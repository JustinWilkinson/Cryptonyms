window.cryptonyms={setFocus:function(n){let t=document.getElementById(n);t&&t.focus()},blurElement:function(n){let t=document.getElementById(n);t&&t.blur()},scrollToBottomOfElement:function(n){let t=document.getElementById(n);t&&(t.scrollTop=t.scrollHeight)},appendContent:function(n,t){let i=document.getElementById(n);i&&i.insertAdjacentHTML("beforeend",t)},replaceContent:function(n,t,i){let r=document.getElementById(n);r&&(r.innerText=r.innerText.replace(new RegExp(t),i))},replaceAllContent:function(n,t){let i=document.getElementById(n);i&&(i.innerText=t)},slideToggle:function(n){$(`#${n}`).slideToggle("slow")},runAfterTimeout:function(n,t,i){setTimeout(()=>this[n](t),i)},initialiseGamesDataTable:function(){$("#GamesTable").DataTable({retrieve:!0,paging:!0,pageLength:10,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],ordering:!1,columnDefs:[{targets:0,searchable:!0},{targets:"_all",searchable:!1}],language:{info:"Showing _START_ to _END_ of _TOTAL_ games."}})},initialiseWordsDataTable:function(){$("#WordsTable").DataTable({ajax:{url:"api/Word/List",dataSrc:function(n){return n}},columns:[{data:"Text",className:"align-middle"},{data:"Editable",render:function(n,t,i){return n?`<button class="btn btn-danger adjustable-font-size-small" onclick="cryptonyms.removeWord('${i.Text}');">Remove</button>`:"This word cannot be removed"},orderable:!1,searchable:!1}],retrieve:!0,paging:!0,pageLength:10,lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],ordering:!0,order:[0,"asc"],language:{info:"Showing _START_ to _END_ of _TOTAL_ words."}})},validateNewWord:function(n){return $("#WordsTable").DataTable().data().filter(t=>t.Text===n).any()},removeWord:function(n){$.ajax({url:`/api/Word/Delete?word=${n}`,type:"DELETE",success:function(){$("#WordsTable").DataTable().ajax.reload()}})},reloadDataTable:function(n){$(`#${n}`).DataTable().ajax.reload()},gameCompletedAnimation:function(n,t){$(".content").hide();$(".main").prepend('<div class="animation-container"><\/div>');$(".animation-container").append('<div id="Balloons" class="h-100 w-100">'+new Array(400).join(`<span class="balloon balloon-${n}"></span>`)+"<\/div>");let r=(n,t)=>n+Math.random()*(t-n),u=.9*$(".main").height(),f=.9*$(".main").width(),i=gsap.timeline({paused:!0,onComplete:()=>{$(".animation-container").remove(),$(".content").fadeIn("slow")}});if(t){$("#Balloons").hide();$(".animation-container").prepend('<img id="Assassin" class="img-endgame img-assassin" src="/images/assassin.png" width="0" height="0" />');let t=n==="blue"?"red":"blue";$(".animation-container").prepend(`<img id="Spy" class="img-endgame img-spy" src="/images/${t}-man.png" width="0" height="0" />`);$(".animation-container").prepend('<img id="Bullet" class="img-endgame img-bullet" src="/images/bullet.png" width="10" height="5" />');i.add(gsap.timeline().to("#Spy",{duration:.8,width:"20vh",height:"40vh",opacity:1}));i.add(gsap.timeline().to("#Assassin",{duration:1.6,width:"20vh",height:"40vh",rotationY:360,opacity:1,onComplete:()=>$("#Bullet").css("opacity",1)}));i.add(gsap.timeline().to("#Bullet",{duration:.3,opacity:1,x:-Math.max(document.documentElement.clientWidth,window.innerWidth||0)/2.6,onComplete:()=>setTimeout(()=>$("#Bullet").remove(),50)}));i.add(gsap.timeline().to("#Spy",{delay:.1,duration:.4,width:"20vh",height:"40vh",opacity:0}));i.add(gsap.timeline().to("#Assassin",{delay:.25,duration:.6,opacity:0,onComplete:()=>{$("#Assassin").remove(),$("#Spy").remove(),$("#Balloons").fadeIn("fast")}}))}let e=gsap.timeline();$(".balloon").each(function(n,t){let i={x:r(-f/2,f/2),y:r(-u/1.5,-u*2),rotation:r(-360,360),ease:"power3.easeOut"},o=gsap.timeline().to(t,r(.7,2),i,r(0,1));e.add(o,0)});i.add(e);i.play(0)}};